#!/usr/bin/env node
import e from"node:child_process";import o from"node:path";import r from"node:fs";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const s=e,n=o,a=r;var c=t((function(e){if(!e)return console.log("require project path!!!"),process.exit(1),!1;Array.isArray(e)&&(e=n.resolve(...e));let o={};try{const r=a.readFileSync(n.resolve(e,"./package.json"),"utf-8");o=JSON.parse(r)}catch(e){return console.log("package.json parse error!!!"),process.exit(1),!1}const r=o.version,t=o.repository.url;if(!t)return console.log("package.json require repository.url !!!"),process.exit(1),!1;return r===s.execSync(`npm show ${t} version`).toString().trim()?(console.log("\nThe local version is not up to date. please update package version before push!\n"),process.exit(1),!1):(console.log("\nThe local version is already up to date.\n"),!0)}));export{c as default};
