#!/usr/bin/env node
"use strict";var e=require("node:child_process"),r=require("node:path"),o=require("node:fs");function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const t=e,n=r,c=o;var a=s((function(e){if(!e)return console.log("require project path!!!"),process.exit(1),!1;Array.isArray(e)&&(e=n.resolve(...e));let r={};try{const o=c.readFileSync(n.resolve(e,"./package.json"),"utf-8");r=JSON.parse(o)}catch(e){return console.log("package.json parse error!!!"),process.exit(1),!1}const o=r.version,s=r.repository.url;if(!s)return console.log("package.json require repository.url !!!"),process.exit(1),!1;return o===t.execSync(`npm show ${s} version`).toString().trim()?(console.log("\nThe local version is not up to date. please update package version before push!\n"),process.exit(1),!1):(console.log("\nThe local version is already up to date.\n"),!0)}));module.exports=a;
